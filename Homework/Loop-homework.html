
<!-- saved from url=(0044)http://avandamiri.com/fewd-30/for-loops.html -->
<html>
<head>
  <meta http-equiv="Content-Type"
  content="text/html; charset=UTF-8">
  </head>
  <body>
    <ul class= "movie-list">
  <!-- Movies will go here, see below. -->
</ul>

<script>
var favoriteMovies = [
  {
    name : 'Cool Runnings',
    year: 1993,
    url: 'http://www.imdb.com/title/tt0106611/',
    ratings: [5, 5, 5, 5, 5, 5, 5, 5]
  },
  {
    name: 'Terminator 2',
    year: 1991,
    url: 'http://www.imdb.com/title/tt0103064/',
    ratings: [5, 4, 3, 5, 4, 5, 4, 5, 5, 5, 3]
  },
  {
    name: 'Interstellar',
    year: 2014,
    url: 'http://www.imdb.com/title/tt0816692/',
    ratings: [5, 3, 5, 5, 1, 2, 4, 5, 5, 2]
   }
]


for (var i=0; i<favoriteMovies.length; i=i+1){

var line = document.createElement("li");
var movieList = document.querySelector(".movie-list");
movieList.appendChild(line);

var movie = favoriteMovies[i];
var movieName = document.createElement("a");
movieName.setAttribute("href", movie.url);
movieName.textContent = movie.name;

var ratingsLength = movie.ratings.length;
var ratings = movie.ratings;
var sumRatings = 0
for (var j = 0; j < ratingsLength; j++) {
  sumRatings = (sumRatings + ratings[j]);
}

var numberOfRatings = 0
for (var k = 0; k < ratingsLength; k++) {
  numberOfRatings = numberOfRatings + 1;
}
var avgRating = Math.round(sumRatings/numberOfRatings * 10) / 10

var info = document.createElement("span");
info.textContent= " " + "(" + movie.year + ", " + avgRating + " Stars, " + numberOfRatings +" Ratings" + ")";

line.appendChild(movieName);
line.appendChild(info);
}




// Create a <li> for each movie that looks like this and add it to the list:
// <li>
//   <a href="http://www.imdb.com/title/tt0106611/">Cool Runnings</a>
//   <span>(1993, 5.0 stars, 8 ratings)</span>
// </li>

</script>
</body></html>
